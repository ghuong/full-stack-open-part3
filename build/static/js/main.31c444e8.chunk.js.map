{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","handleAddPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","person","handleDelete","name","number","onClick","Persons","persons","handleDeletePerson","map","id","Notification","message","isError","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","BASE_URL","personService","getAll","axios","get","then","response","data","create","newPerson","post","update","put","remove","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","initialPersons","flashMessage","duration","setMessageHelper","messageSetter","setTimeout","filteredPersons","p","toLowerCase","includes","event","target","preventDefault","duplicatePerson","find","window","confirm","updatedPerson","catch","error","addedPerson","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.31c444e8.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      Filter: <input value={filter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  handleAddPerson,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <div>\n      <h2>Add a New</h2>\n      <form onSubmit={handleAddPerson}>\n        <div>\n          Name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          Number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Person = ({ person, handleDelete }) => {\n  const { name, number } = person;\n\n  return (\n    <li>\n      {name} - {number}\n      <button onClick={handleDelete}>Delete</button>\n    </li>\n  );\n};\n\nexport default Person;\n","import React from 'react';\nimport Person from \"./Person\"\n\nconst Persons = ({ persons, handleDeletePerson }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      <ul>\n        {persons.map((person) => (\n          <Person \n            person={person}\n            key={person.id}\n            handleDelete={() => handleDeletePerson(person)}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Persons","import React from \"react\";\n\nconst Notification = ({ message, isError = false }) => {\n  if (message === null) return null;\n\n  const notificationStyle = {\n    color: isError ? \"red\" : \"green\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  return <div style={notificationStyle}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst BASE_URL = \"/api/persons\"; // \"http://localhost:3001/api/persons\";\n\nconst getAll = () => {\n  return axios.get(BASE_URL).then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  return axios.post(BASE_URL, newPerson).then((response) => response.data);\n};\n\nconst update = (id, newPerson) => {\n  return axios\n    .put(`${BASE_URL}/${id}`, newPerson)\n    .then((response) => response.data);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${BASE_URL}/${id}`);\n};\n\nconst personService = { getAll, create, update, remove };\n\nexport default personService;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const flashMessage = (message, isError = false, duration = 5000) => {\n    const setMessageHelper = (messageSetter) => {\n      messageSetter(message);\n      setTimeout(() => messageSetter(null), duration);\n    };\n\n    setMessageHelper(isError ? setErrorMessage : setSuccessMessage);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const duplicatePerson = persons.find(\n      (p) => p.name.toLowerCase() === newName.toLowerCase()\n    );\n\n    if (duplicatePerson) {\n      // person already exists\n      // ask to confirm updating number\n      if (\n        window.confirm(\n          `${newName} is already added to the phonebook, replace the old number with a new one?`\n        )\n      ) {\n        // update number\n        personService\n          .update(duplicatePerson.id, newPerson)\n          .then((updatedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== updatedPerson.id ? person : updatedPerson\n              )\n            );\n            flashMessage(`Updated ${updatedPerson.name}'s number`);\n          })\n          .catch((error) => {\n            flashMessage(error.response.data.error, true);\n            /*\n            flashMessage(\n              `Information of ${duplicatePerson.name} has already been removed from server`,\n              true\n            );\n            setPersons(persons.filter((p) => p.id !== duplicatePerson.id));\n            */\n          });\n      }\n    } else {\n      personService\n        .create(newPerson)\n        .then((addedPerson) => {\n          setPersons(persons.concat(addedPerson));\n          flashMessage(`Added ${addedPerson.name}`);\n        })\n        .catch((error) => {\n          flashMessage(error.response.data.error, true);\n        });\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const deletePerson = (personToDelete) => {\n    if (window.confirm(`Delete ${personToDelete.name} ?`)) {\n      personService.remove(personToDelete.id).then((response) => {\n        setPersons(persons.filter((p) => p.id !== personToDelete.id));\n        flashMessage(`Deleted ${personToDelete.name}`);\n      });\n    }\n  };\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n  const handleFilterChange = (event) => setFilter(event.target.value);\n\n  const filteredPersons = filter\n    ? persons.filter((p) => p.name.toLowerCase().includes(filter.toLowerCase()))\n    : persons;\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={successMessage} />\n      <Notification message={errorMessage} isError={true} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <PersonForm\n        handleAddPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <Persons persons={filteredPersons} handleDeletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}